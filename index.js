const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-CbspLdtO.js","assets/vendor-CS74yUSC.css"])))=>i.map(i=>d[i]);
import{i as h,a as g,b as O}from"./assets/vendor-CbspLdtO.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();const I="modulepreload",x=function(e){return"/busy-status/"+e},y={},$=function(n,r,o){let t=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));t=Promise.allSettled(r.map(l=>{if(l=x(l),l in y)return;y[l]=!0;const f=l.endsWith(".css"),L=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${L}`))return;const c=document.createElement("link");if(c.rel=f?"stylesheet":I,f||(c.as="script"),c.crossOrigin="",c.href=l,a&&c.setAttribute("nonce",a),document.head.appendChild(c),f)return new Promise((P,C)=>{c.addEventListener("load",P),c.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return t.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return n().catch(s)})};function A(e){e?h(e,{initialCountry:"auto",loadUtils:()=>$(()=>import("./assets/vendor-CbspLdtO.js").then(n=>n.u),__vite__mapDeps([0,1]))}):console.error("Елемент #phone не знайдено.")}const B="https://jsonplaceholder.typicode.com/posts",p=[{question:"Question 1",options:["option 1","option 2","option 3"]},{question:"Question 2",options:["option 1","option 2","option 3"]},{question:"Question 3",options:["option 1","option 2","option 3"]},{question:"Question 4",options:["option 1","option 2","option 3"]},{question:"Question 5",options:["option 1","option 2","option 3"]}];function N(e){g.success({position:"center",theme:"dark",messageColor:"green",message:e,progressBarColor:"green",transitionIn:"fadeIn",transitionOut:"fadeOut",timeout:3e3})}function E(e){g.error({position:"topRight",theme:"dark",messageColor:"red",message:e,progressBarColor:"red",transitionIn:"fadeIn",transitionOut:"fadeOut",timeout:5e3})}let m=0,v=[];function b(){const e=document.getElementById("quiz"),r=p[m].options.map((t,s)=>`
        <li data-value="${t}">
          ${t}
        </li>
      `).join("");e.innerHTML=`
    <h2>${p[m].question}</h2>
    <ul class="options">
      ${r}
    </ul>
  `;const o=e.querySelectorAll(".options li");o.forEach(t=>{t.addEventListener("click",()=>{o.forEach(s=>s.classList.remove("selected")),t.classList.add("selected"),T()})}),z()}function T(){const e=document.querySelector(".options li.selected");e?(v.push(e.dataset.value),m++,m<p.length?b():(document.getElementById("quiz-container").style.display="none",document.getElementById("registration-container").style.display="block")):E("Please, choose an option")}function X(){return v}function z(){const e=document.getElementById("progress");e&&(e.innerHTML=`<span style="color: black;">${m+1}</span><span style="color: rgb(68, 67, 67);">/${p.length}</span>`)}async function Q(e){return O.post(B,e,{headers:{"Content-Type":"application/json"}})}function w(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)?null:"Please, write a correct email (e.g., example@domain.com)"}function q(e){return e?h.getInstance(e).isValidNumber()?null:"Please, enter a phone number in the correct format, such as +380XXXXXXXXX!":"Phone input field is not provided"}function S(e){return e.trim()?/^[A-Za-zА-Яа-яІіЇїЄєҐґ'’\-]+$/.test(e.trim())?e.trim().length<2||e.trim().length>50?"Name must be between 2 and 50 characters":null:"Name can only contain letters and special characters like apostrophes or dashes":"Please, write your name"}function u(e,n){let r=e.parentElement.querySelector(".error-message");r||(r=document.createElement("div"),r.classList.add("error-message"),e.parentElement.appendChild(r)),r.textContent=n}function d(e){const n=e.parentElement.querySelector(".error-message");n&&(n.textContent="")}function _(e,n){const r=e.querySelector("#name"),o=e.querySelector(".wt-email-input");d(r),d(o),d(n);const t=S(r.value);if(t)return u(r,t),!1;const s=w(o.value.trim());if(s)return u(o,s),!1;const i=q(n);return i?(u(n,i),!1):!0}function R(e,n){const r=e.querySelector("#name"),o=e.querySelector(".wt-email-input");r.addEventListener("blur",()=>{const t=S(r.value);t?u(r,t):d(r)}),o.addEventListener("blur",()=>{const t=w(o.value.trim());t?u(o,t):d(o)}),n.addEventListener("blur",()=>{const t=q(n);t?u(n,t):d(n)})}document.addEventListener("DOMContentLoaded",()=>{b(),A(document.querySelector(".wt-phone-input"));const e=document.querySelector(".wt-form"),n=document.querySelector(".wt-phone-input");R(e,n),e.addEventListener("submit",async r=>{var i,a;r.preventDefault();const o=document.getElementById("submitButton");if(o&&(o.disabled=!0,o.textContent="Sending..."),!_(e,n)){o&&(o.disabled=!1,o.textContent="Send");return}const t=h.getInstance(n).getNumber(),s={name:e.querySelector("#name").value,email:e.querySelector(".wt-email-input").value.trim(),phone:t,answers:X()};try{await Q(s),e.style.display="none",N("You have successfully sent your answers!")}catch(l){E("Error: "+(((a=(i=l.response)==null?void 0:i.data)==null?void 0:a.message)||"Something went wrong. Please, try again!"))}finally{o&&(o.disabled=!1,o.textContent="Send")}})});
//# sourceMappingURL=index.js.map
