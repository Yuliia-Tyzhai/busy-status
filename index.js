import{i as a,a as c,b as q}from"./assets/vendor-BpbyieiF.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}})();let n;const w="http://localhost:3000/responses",d=[{question:"Question 1",options:["option 1","option 2","option 3"]},{question:"Question 2",options:["option 1","option 2","option 3"]},{question:"Question 3",options:["option 1","option 2","option 3"]},{question:"Question 4",options:["option 1","option 2","option 3"]},{question:"Question 5",options:["option 1","option 2","option 3"]}];let m=0,b=[];function h(){const t=document.getElementById("quiz");t.innerHTML=`
    <h2>${d[m].question}</h2>
    <ul>
      ${d[m].options.map((s,l)=>`
            <li>
              <input type="radio" name="answer" value="${s}" id="option${l}">
              <label for="option${l}">${s}</label>
            </li>
          `).join("")}
    </ul>
  `}document.getElementById("next").addEventListener("click",()=>{const t=document.querySelector('input[name="answer"]:checked');t?(b.push(t.value),m++,m<d.length?h():(document.getElementById("quiz-container").style.display="none",document.getElementById("registration-container").style.display="block")):a.error({position:"topRight",theme:"dark",messageColor:"white",backgroundColor:"#ef4040",message:"Please, choose an option"})});const y=document.querySelector(".wt-form"),i=document.querySelector(".wt-email-input"),p=document.querySelector(".wt-phone-input"),g=document.querySelector(".wt-success-message"),f=document.querySelector(".wt-error-message"),L=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;i.addEventListener("input",function(){const t=i.value.trim();L.test(t)?(i.classList.add("success"),i.classList.remove("error"),g.style.display="block",f.style.display="none"):(i.classList.add("error"),i.classList.remove("success"),g.style.display="none",f.style.display="block")});document.addEventListener("DOMContentLoaded",function(){if(console.log("phoneInputField:",p),p){console.log("intlTelInput:",c);try{n=c(p,{initialCountry:"ua",utilsScript:"intl-tel-input/build/js/utils.js"}),console.log("phoneInput:",n),n&&n.getNumber?(console.log(`intl-tel-input ініціалізовано: ${n}`),console.log("intl-tel-input initialized")):console.error("intl-tel-input не ініціалізовано!")}catch(t){console.error("Помилка при ініціалізації intlTelInput:",t)}p.addEventListener("blur",function(){setTimeout(()=>{if(n&&typeof n.getNumber=="function"&&c.numberFormat)try{const t=n.getNumber(c.numberFormat.NATIONAL),s=n.getNumber(c.numberFormat.INTERNATIONAL);console.log(`Національний формат: ${t}`),console.log(`Міжнародний формат: ${s}`)}catch(t){console.error("Помилка при отриманні форматів:",t)}else console.error("intl-tel-input не ініціалізовано, метод getNumber не доступний або intlTelInput.numberFormat не визначено.")},0)})}else console.error("Елемент #phone не знайдено.")});y.addEventListener("submit",async function(t){var e,o;if(t.preventDefault(),document.querySelector('button[type="submit"]').disabled=!0,document.querySelector('button[type="submit"]').textContent="Sending...",!n||!n.getNumber()){a.error({position:"topRight",theme:"dark",messageColor:"white",backgroundColor:"#ef4040",message:"Please, write a correct phone number!"}),document.querySelector('button[type="submit"]').disabled=!1,document.querySelector('button[type="submit"]').textContent="Send";return}const s=n.getNumber();if(!n.isValidNumber()){a.error({position:"topRight",theme:"dark",messageColor:"white",backgroundColor:"#ef4040",message:"Please, write a correct phone number"}),document.querySelector('button[type="submit"]').disabled=!1,document.querySelector('button[type="submit"]').textContent="Відправити";return}const u={name:document.getElementById("name").value,email:i.value.trim(),phone:s,answers:b};console.log("Формдані:",u);try{const r=await q.post(w,u,{headers:{"Content-Type":"application/json"}});if(r.status===201)a.success({position:"topRight",theme:"dark",messageColor:"white",backgroundColor:"#4CAF50",message:"Дані успішно відправлено."}),document.getElementById("registration-container").innerHTML="<p>Thank you! Your data has been successfully sent.</p>",y.reset();else throw new Error("Unexpected response status: "+r.status)}catch(r){console.error("Помилка відправки даних:",r),a.error({position:"topRight",theme:"dark",messageColor:"white",backgroundColor:"#ef4040",message:"Error: "+(((o=(e=r.response)==null?void 0:e.data)==null?void 0:o.message)||"Something went wrong. Please, try again!")})}finally{document.querySelector('button[type="submit"]').disabled=!1,document.querySelector('button[type="submit"]').textContent="Send"}});h();
//# sourceMappingURL=index.js.map
